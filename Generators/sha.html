<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHA Hash Generator | Developer Tools</title>
    <link rel="stylesheet" href="../common.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha3/0.9.2/sha3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        body {
            background: linear-gradient(135deg, #fafdff 0%, #e8f6ef 100%);
            min-height: 100vh;
            margin: 0;
            font-family: 'Segoe UI', 'Fira Mono', 'Consolas', monospace;
            overflow-x: hidden;
        }
        .json-formatter-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 32px;
            margin-top: 120px;
            padding: 32px 0;
            max-width: 1800px;
            margin-left: auto;
            margin-right: auto;
        }
        .json-title {
            text-align: center;
            font-size: 2.2em;
            font-weight: bold;
            color: #2196f3;
            margin-top: 90px;
            margin-bottom: 10px;
            letter-spacing: 0.03em;
        }
        .sha-box-row {
            display: flex;
            flex-direction: row;
            gap: 32px;
            width: 100%;
            justify-content: center;
            margin-bottom: 18px;
        }
        .sha-box {
            background: #f4fbfa;
            border-radius: 16px;
            box-shadow: 0 4px 24px rgba(33, 150, 243, 0.13);
            border: 1.5px solid #e0f2f1;
            padding: 48px;
            width: 90vw;
            max-width: 900px;
            min-width: 400px;
            min-height: 400px;
            max-height: 1200px;
            display: grid;
            grid-template-columns: 1fr 260px 1fr;
            align-items: stretch;
            position: relative;
            box-sizing: border-box;
            gap: 36px;
            height: 100%;
        }
        .sha-io-box {
            display: flex;
            flex-direction: column;
            align-items: stretch;
            justify-content: center;
            min-width: 0;
            gap: 0;
            align-self: stretch;
            height: 100%;
            padding-left: 12px;
            padding-right: 12px;
        }
        .sha-io-box:first-child {
            margin-left: 0;
        }
        .sha-io-box:last-child {
            margin-right: 0;
        }
        .sha-center-col {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 28px;
            min-width: 0;
            max-width: 260px;
            margin: 0 auto;
            background: #e0f7fa;
            border-radius: 14px;
            border: 1.5px solid #b2ebf2;
            box-shadow: 0 2px 12px rgba(33,150,243,0.07);
            padding: 28px 18px;
            min-height: 0;
            max-height: 100%;
            align-self: auto;
        }
        .sha-center-col > * {
            flex-shrink: 0;
        }
        .sha-label {
            font-size: 1.13em;
            color: #2196f3;
            margin-bottom: 8px;
            margin-left: 2px;
            font-weight: 600;
            letter-spacing: 0.01em;
            height: 28px;
            display: flex;
            align-items: center;
        }
        .sha-input, .sha-output {
            width: 100%;
            font-size: 1.18em;
            padding: 24px 22px;
            border: 1.5px solid #b2ebf2;
            border-radius: 12px;
            background: #fafdff;
            color: #1a2a32;
            font-family: 'Fira Mono', 'Consolas', monospace;
            min-height: 300px;
            resize: vertical;
            box-shadow: 0 2px 8px rgba(33,150,243,0.07);
            transition: border 0.2s, box-shadow 0.2s;
            display: block;
            height: 100%;
        }
        .sha-input:focus, .sha-output:focus {
            border: 1.5px solid #2196f3;
            box-shadow: 0 4px 16px rgba(33,150,243,0.13);
            outline: none;
        }
        .sha-dropdowns {
            display: flex;
            flex-direction: column;
            gap: 14px;
            width: 100%;
            align-items: stretch;
        }
        .sha-dropdowns select, .sha-dropdowns button {
            font-size: 1.08em;
            padding: 10px 12px;
            border-radius: 8px;
            border: 1.5px solid #b2ebf2;
            background: #fafdff;
            color: #1a2a32;
            margin-bottom: 0;
            box-shadow: 0 1px 4px rgba(33,150,243,0.04);
            transition: border 0.2s, box-shadow 0.2s;
        }
        .sha-dropdowns select:focus, .sha-dropdowns button:focus {
            border: 1.5px solid #2196f3;
            box-shadow: 0 2px 8px rgba(33,150,243,0.13);
            outline: none;
        }
        .sha-btn-row {
            display: flex;
            flex-direction: column;
            gap: 14px;
            width: 100%;
            align-items: stretch;
        }
        .sha-btn {
            background: linear-gradient(90deg, #2196f3 0%, #43e97b 100%);
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 14px 0;
            font-size: 1.08em;
            font-weight: 500;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(33,150,243,0.07);
            transition: background 0.2s, box-shadow 0.2s;
        }
        .sha-btn:hover {
            background: linear-gradient(90deg, #43e97b 0%, #2196f3 100%);
            box-shadow: 0 4px 16px rgba(67, 233, 123, 0.12);
        }
        .popup {
            display: none;
            position: absolute;
            top: 10px;
            right: 20px;
            background: #2196f3;
            color: #fff;
            padding: 6px 16px;
            border-radius: 8px;
            font-size: 1em;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(33,150,243,0.15);
        }
        .error {
            color: #d32f2f;
            font-weight: bold;
            margin-top: 8px;
            text-align: center;
        }
        
        /* Mobile styles */
        @media (max-width: 768px) {
            .json-formatter-container {
                margin-top: 100px;
                padding: 16px;
                gap: 20px;
            }
            
            .json-title {
                font-size: 1.8em;
                margin-top: 60px;
            }
            
            .sha-box-row {
                flex-direction: column;
                gap: 20px;
            }
            
            .sha-box {
                display: flex;
                flex-direction: column;
                max-width: 100vw;
                min-width: 0;
                padding: 20px;
                min-height: 300px;
                gap: 20px;
                height: auto;
                grid-template-columns: 1fr;
                width: 100%;
                box-sizing: border-box;
            }
            
            .sha-io-box {
                padding-left: 0;
                padding-right: 0;
                height: auto;
                width: 100%;
            }
            
            .sha-input, .sha-output {
                min-height: 200px;
                font-size: 1em;
                padding: 16px;
                width: 100%;
                box-sizing: border-box;
            }
            
            .sha-center-col {
                flex-direction: column;
                gap: 12px;
                min-width: 0;
                max-width: 100%;
                margin: 20px 0;
                padding: 16px 12px;
                width: 100%;
                justify-content: center;
                height: auto;
                box-sizing: border-box;
            }
            
            .sha-dropdowns {
                flex-direction: column;
                gap: 8px;
                width: 100%;
            }
            
            .sha-dropdowns select {
                width: 100%;
                box-sizing: border-box;
                font-size: 0.95em;
                padding: 10px 8px;
            }
            
            .sha-btn-row {
                flex-direction: row;
                gap: 8px;
                width: 100%;
                flex-wrap: wrap;
            }
            
            .sha-btn {
                padding: 12px 8px;
                font-size: 0.9em;
                flex: 1;
                min-width: 0;
                white-space: nowrap;
            }
            
            .sha-label {
                font-size: 1em;
                height: auto;
            }
        }
        
        /* Extra small mobile styles */
        @media (max-width: 480px) {
            .json-formatter-container {
                padding: 12px;
                margin-top: 90px;
            }
            
            .json-title {
                font-size: 1.6em;
                margin-top: 50px;
            }
            
            .sha-box {
                padding: 16px;
                gap: 16px;
            }
            
            .sha-input, .sha-output {
                min-height: 180px;
                font-size: 0.95em;
                padding: 12px;
            }
            
            .sha-center-col {
                padding: 12px 8px;
                gap: 10px;
            }
            
            .sha-dropdowns select {
                font-size: 0.9em;
                padding: 8px 6px;
            }
            
            .sha-btn {
                padding: 10px 6px;
                font-size: 0.85em;
            }
            
            .sha-label {
                font-size: 0.95em;
            }
        }
        
        /* Tablet styles */
        @media (min-width: 769px) and (max-width: 1024px) {
            .json-formatter-container {
                margin-top: 110px;
                padding: 24px;
            }
            
            .json-title {
                font-size: 2em;
            }
            
            .sha-box {
                padding: 32px;
                gap: 24px;
            }
            
            .sha-input, .sha-output {
                min-height: 250px;
                font-size: 1.1em;
            }
            
            .sha-center-col {
                padding: 24px 16px;
                gap: 20px;
            }
        }
        
        /* Large desktop styles */
        @media (min-width: 1200px) {
            .json-formatter-container {
                margin-top: 130px;
                padding: 40px;
            }
            
            .json-title {
                font-size: 2.4em;
            }
            
            .sha-box {
                padding: 56px;
                gap: 40px;
            }
            
            .sha-input, .sha-output {
                min-height: 350px;
                font-size: 1.2em;
            }
        }
        
        /* Extra large screens */
        @media (min-width: 1600px) {
            .sha-box {
                max-width: 1200px;
                padding: 64px;
            }
        }
    </style>
</head>
<body>
    <div class="navbar">
        <img src="../images/logo.png" alt="Logo">
        <a href="../index.html">HOME</a>
                            <a href="/article/">ARTICLES</a>
    </div>
    <div class="json-formatter-container">
        <div class="json-title">SHA HASH GENERATOR</div>
        <div class="sha-box-row">
            <div class="sha-box">
                <div class="sha-io-box">
                    <div class="sha-label">Input</div>
                    <textarea id="shaInput" class="sha-input" placeholder="Enter text..."></textarea>
                </div>
                <div class="sha-center-col">
                    <div class="sha-dropdowns" id="shaAlgoDropdowns" style="gap:14px;">
                        <select id="sha2Select" onchange="onSHA2Select()">
                            <option value="">SHA-2 Family</option>
                            <option value="SHA-224">SHA-224</option>
                            <option value="SHA-256">SHA-256</option>
                            <option value="SHA-384">SHA-384</option>
                            <option value="SHA-512">SHA-512</option>
                            <option value="SHA-512/224">SHA-512/224</option>
                            <option value="SHA-512/256">SHA-512/256</option>
                        </select>
                        <select id="sha3Select" onchange="onSHA3Select()">
                            <option value="">SHA-3 Family</option>
                            <option value="SHA3-224">SHA3-224</option>
                            <option value="SHA3">SHA3</option>
                            <option value="SHA3-384">SHA3-384</option>
                            <option value="SHA3-512">SHA3-512</option>
                            <option value="SHAKE128">SHAKE128</option>
                            <option value="SHAKE256">SHAKE256</option>
                        </select>
                    </div>
                    <div class="sha-btn-row">
                        <button class="sha-btn" onclick="generateSHA()">Generate</button>
                        <button class="sha-btn" onclick="copySHA()">Copy</button>
                        <button class="sha-btn" onclick="clearSHA()">Clear</button>
                    </div>
                    <div class="error" id="shaError"></div>
                    <div class="popup" id="shaPopup">Copied!</div>
                </div>
                <div class="sha-io-box">
                    <div class="sha-label">Output</div>
                    <textarea id="shaOutput" class="sha-output" readonly></textarea>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Debug: Check what functions are available
        console.log('Available libraries:', {
            'CryptoJS': typeof CryptoJS,
            'js-sha3 functions': {
                sha3_224: typeof sha3_224,
                sha3_256: typeof sha3_256,
                sha3_384: typeof sha3_384,
                sha3_512: typeof sha3_512,
                shake128: typeof shake128,
                shake256: typeof shake256
            }
        });

        function showPopup(msg) {
            const popup = document.getElementById('shaPopup');
            popup.textContent = msg;
            popup.style.display = 'block';
            setTimeout(() => { popup.style.display = 'none'; }, 1200);
        }
        function showError(msg) {
            document.getElementById('shaError').textContent = msg;
        }
        function clearError() {
            document.getElementById('shaError').textContent = '';
        }
        function onSHA2Select() {
            document.getElementById('sha3Select').selectedIndex = 0;
        }
        function onSHA3Select() {
            document.getElementById('sha2Select').selectedIndex = 0;
        }
        function getSelectedSHA() {
            const s2 = document.getElementById('sha2Select').value;
            const s3 = document.getElementById('sha3Select').value;
            if (s2) return s2;
            if (s3) return s3;
            return '';
        }
        async function generateSHA() {
            clearError();
            const input = document.getElementById('shaInput').value;
            const algo = getSelectedSHA();
            if (!input.trim()) {
                showError('Please enter text to hash.');
                return;
            }
            if (!algo) {
                showError('Please select a SHA algorithm.');
                return;
            }
            let output = '';
            try {
                // Use crypto.subtle for native browser support
                if (algo === 'SHA-256' || algo === 'SHA-384' || algo === 'SHA-512') {
                    const enc = new TextEncoder();
                    const data = enc.encode(input);
                    const hash = await crypto.subtle.digest(algo, data);
                    output = Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');
                }
                // Use CryptoJS for SHA-2 family
                else if (algo === 'SHA-224') {
                    if (typeof CryptoJS !== 'undefined') {
                        output = CryptoJS.SHA224(input).toString();
                    } else {
                        throw new Error('CryptoJS library not loaded.');
                    }
                } else if (algo === 'SHA-512/224') {
                    if (typeof CryptoJS !== 'undefined') {
                        // SHA-512/224 is SHA-512 truncated to 224 bits
                        const hash = CryptoJS.SHA512(input);
                        output = hash.toString().substring(0, 56); // 224 bits = 56 hex characters
                    } else {
                        throw new Error('CryptoJS library not loaded.');
                    }
                } else if (algo === 'SHA-512/256') {
                    if (typeof CryptoJS !== 'undefined') {
                        // SHA-512/256 is SHA-512 truncated to 256 bits
                        const hash = CryptoJS.SHA512(input);
                        output = hash.toString().substring(0, 64); // 256 bits = 64 hex characters
                    } else {
                        throw new Error('CryptoJS library not loaded.');
                    }
                }
                // Use js-sha3 library for SHA-3 family
                else if (algo === 'SHA3-224') {
                    if (typeof sha3_224 === 'function') {
                        output = sha3_224(input);
                    } else {
                        throw new Error('SHA3-224 function not available.');
                    }
                } else if (algo === 'SHA3') {
                    if (typeof sha3_256 === 'function') {
                        output = sha3_256(input);
                    } else {
                        throw new Error('SHA3-256 function not available.');
                    }
                } else if (algo === 'SHA3-384') {
                    if (typeof sha3_384 === 'function') {
                        output = sha3_384(input);
                    } else {
                        throw new Error('SHA3-384 function not available.');
                    }
                } else if (algo === 'SHA3-512') {
                    if (typeof sha3_512 === 'function') {
                        output = sha3_512(input);
                    } else {
                        throw new Error('SHA3-512 function not available.');
                    }
                } else if (algo === 'SHAKE128') {
                    if (typeof shake128 === 'function') {
                        output = shake128(input, 256);
                    } else {
                        throw new Error('SHAKE128 function not available.');
                    }
                } else if (algo === 'SHAKE256') {
                    if (typeof shake256 === 'function') {
                        output = shake256(input, 512);
                    } else {
                        throw new Error('SHAKE256 function not available.');
                    }
                } else {
                    output = 'Algorithm not supported.';
                }
            } catch (e) {
                output = 'Error: ' + e.message;
            }
            document.getElementById('shaOutput').value = output;
        }
        function copySHA() {
            const output = document.getElementById('shaOutput').value;
            if (!output) return;
            navigator.clipboard.writeText(output).then(() => {
                showPopup('Copied!');
            });
        }
        function clearSHA() {
            document.getElementById('shaInput').value = '';
            document.getElementById('shaOutput').value = '';
            clearError();
            document.getElementById('sha2Select').selectedIndex = 0;
            document.getElementById('sha3Select').selectedIndex = 0;
        }
    </script>
</body>
</html>

